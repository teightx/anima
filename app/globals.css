@import 'tailwindcss';

/*
 * Ânima Design System v1
 * Identidade institucional, humana e de longo prazo
 * 
 * Paleta: desaturada com viés azul (blue light filter)
 * Sem verde, roxo ou neon como cores principais
 * Contraste AA mínimo garantido
 * 
 * Fontes carregadas via layout.tsx:
 * - Inter: UI base
 * - Source Serif 4: conteúdo editorial
 */

/* ============================================================================
   Design Tokens - Light Mode
   ============================================================================ */

:root {
  /* Background - off-white frio */
  --background: 210 30% 97%;
  --foreground: 215 22% 18%;

  /* Card/Surface */
  --card: 210 28% 99%;
  --card-foreground: 215 22% 18%;

  /* Popover */
  --popover: 210 28% 99%;
  --popover-foreground: 215 22% 18%;

  /* Primary - azul acinzentado discreto */
  --primary: 205 28% 52%;
  --primary-foreground: 210 30% 98%;

  /* Secondary */
  --secondary: 210 20% 94%;
  --secondary-foreground: 215 18% 24%;

  /* Muted */
  --muted: 210 18% 93%;
  --muted-foreground: 215 15% 38%;

  /* Accent - azul discreto */
  --accent: 205 18% 90%;
  --accent-foreground: 215 22% 18%;

  /* Destructive */
  --destructive: 0 50% 45%;
  --destructive-foreground: 210 30% 98%;

  /* Border */
  --border: 214 18% 88%;

  /* Input */
  --input: 214 18% 88%;

  /* Ring */
  --ring: 205 28% 52%;

  /* Radius */
  --radius: 0.625rem;

  /* Shadow tokens - mais suaves */
  --shadow-color: 214 25% 50%;
  --shadow-xs: 0 1px 2px 0 hsl(var(--shadow-color) / 0.03);
  --shadow-sm: 0 1px 3px 0 hsl(var(--shadow-color) / 0.04);
  --shadow-md:
    0 2px 6px -1px hsl(var(--shadow-color) / 0.05),
    0 1px 3px -1px hsl(var(--shadow-color) / 0.03);
  --shadow-lg:
    0 4px 12px -2px hsl(var(--shadow-color) / 0.06),
    0 2px 4px -1px hsl(var(--shadow-color) / 0.03);

  /* Typography */
  --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
  --font-serif: 'Source Serif 4', Georgia, 'Times New Roman', serif;
}

/* ============================================================================
   Design Tokens - Dark Mode
   ============================================================================ */

.dark {
  /* Background - cinza azulado profundo */
  --background: 220 18% 9%;
  --foreground: 210 20% 92%;

  /* Card/Surface */
  --card: 220 16% 12%;
  --card-foreground: 210 20% 92%;

  /* Popover */
  --popover: 220 16% 12%;
  --popover-foreground: 210 20% 92%;

  /* Primary - azul acinzentado (mais claro para dark) */
  --primary: 205 28% 58%;
  --primary-foreground: 220 18% 9%;

  /* Secondary */
  --secondary: 220 14% 16%;
  --secondary-foreground: 210 18% 88%;

  /* Muted */
  --muted: 220 14% 16%;
  --muted-foreground: 210 12% 68%;

  /* Accent */
  --accent: 220 14% 16%;
  --accent-foreground: 210 20% 92%;

  /* Destructive */
  --destructive: 0 45% 50%;
  --destructive-foreground: 210 20% 92%;

  /* Border */
  --border: 220 12% 18%;

  /* Input */
  --input: 220 12% 18%;

  /* Ring */
  --ring: 205 28% 58%;

  /* Shadow tokens - dark mode */
  --shadow-color: 220 40% 6%;
  --shadow-xs: 0 1px 2px 0 hsl(var(--shadow-color) / 0.15);
  --shadow-sm: 0 1px 3px 0 hsl(var(--shadow-color) / 0.2);
  --shadow-md:
    0 2px 6px -1px hsl(var(--shadow-color) / 0.25),
    0 1px 3px -1px hsl(var(--shadow-color) / 0.1);
  --shadow-lg:
    0 4px 12px -2px hsl(var(--shadow-color) / 0.3),
    0 2px 4px -1px hsl(var(--shadow-color) / 0.15);
}

/* ============================================================================
   Tailwind Theme Integration
   ============================================================================ */

@theme inline {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --font-sans: var(--font-sans);
  --font-serif: var(--font-serif);
}

/* ============================================================================
   Base Styles
   ============================================================================ */

* {
  border-color: hsl(var(--border));
}

body {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  font-family: var(--font-sans);
  font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.6;
}

/* ============================================================================
   Atmosfera - Background com gradiente sutil e grain
   ============================================================================ */

/* Light mode - gradiente radial muito sutil */
:root body {
  background-image:
    /* Grain discreto (3%) */
    url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E"),
    /* Gradiente radial superior */
    radial-gradient(
      ellipse 1000px 600px at 15% -5%,
      hsl(205 28% 52% / 0.06),
      transparent 60%
    ),
    /* Gradiente linear de profundidade */
    linear-gradient(
      175deg,
      hsl(205 28% 52% / 0.03) 0%,
      transparent 30%
    );
  background-attachment: fixed;
}

/* Dark mode - gradiente mais pronunciado */
.dark body {
  background-image:
    /* Grain discreto (4%) */
    url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E"),
    /* Gradiente radial superior */
    radial-gradient(
      ellipse 900px 500px at 10% -8%,
      hsl(205 28% 58% / 0.08),
      transparent 55%
    ),
    /* Gradiente secundário */
    radial-gradient(
      ellipse 600px 400px at 90% 100%,
      hsl(220 20% 20% / 0.4),
      transparent 60%
    );
  background-attachment: fixed;
}

/* ============================================================================
   Typography - Hierarquia clara
   ============================================================================ */

h1, .h1 {
  font-family: var(--font-sans);
  font-size: 1.75rem;
  font-weight: 600;
  line-height: 1.25;
  letter-spacing: -0.02em;
  color: hsl(var(--foreground));
}

h2, .h2 {
  font-family: var(--font-sans);
  font-size: 1.375rem;
  font-weight: 600;
  line-height: 1.3;
  letter-spacing: -0.015em;
  color: hsl(var(--foreground));
}

h3, .h3 {
  font-family: var(--font-sans);
  font-size: 1.125rem;
  font-weight: 600;
  line-height: 1.4;
  letter-spacing: -0.01em;
  color: hsl(var(--foreground));
}

h4, .h4 {
  font-family: var(--font-sans);
  font-size: 1rem;
  font-weight: 500;
  line-height: 1.5;
  color: hsl(var(--foreground));
}

/* Typography - Serif para conteúdo editorial */
.font-serif {
  font-family: var(--font-serif);
}

.prose-reading {
  font-family: var(--font-serif);
  font-size: 1.0625rem;
  line-height: 1.8;
  color: hsl(var(--foreground));
  letter-spacing: 0.005em;
}

.prose-reading p {
  margin-bottom: 1.25em;
}

.prose-reading p:last-child {
  margin-bottom: 0;
}

.prose-reading strong {
  font-weight: 600;
}

/* Editorial - para estudos e fontes */
.prose-editorial {
  font-family: var(--font-serif);
  font-size: 0.9375rem;
  line-height: 1.7;
  color: hsl(var(--foreground));
  letter-spacing: 0.008em;
}

.prose-editorial p {
  margin-bottom: 1em;
}

.prose-editorial p:last-child {
  margin-bottom: 0;
}

/* Captions e notas editoriais */
.text-editorial-caption {
  font-family: var(--font-serif);
  font-size: 0.8125rem;
  font-style: italic;
  color: hsl(var(--muted-foreground));
  line-height: 1.6;
}

/* ============================================================================
   Card - Mais espaço, menos sombra
   ============================================================================ */

[data-slot='card'],
.card-base {
  box-shadow: var(--shadow-sm);
  border-color: hsl(var(--border) / 0.5);
  transition: box-shadow 0.2s ease, border-color 0.2s ease;
}

[data-slot='card']:hover,
.card-base:hover {
  box-shadow: var(--shadow-md);
  border-color: hsl(var(--border) / 0.7);
}

/* Card sem hover (para cards estáticos) */
.card-static {
  box-shadow: var(--shadow-xs);
  border-color: hsl(var(--border) / 0.4);
}

.card-static:hover {
  box-shadow: var(--shadow-xs);
  border-color: hsl(var(--border) / 0.4);
}

/* ============================================================================
   Badges - Mais discretos
   ============================================================================ */

[data-slot='badge'] {
  font-weight: 500;
  font-size: 0.75rem;
  letter-spacing: 0.01em;
}

/* ============================================================================
   Tabs e Toggles - Suaves e menos contrastantes
   ============================================================================ */

[role='tablist'] {
  background-color: hsl(var(--muted) / 0.4);
  border-radius: var(--radius);
  padding: 0.25rem;
}

[role='tab'] {
  font-weight: 500;
  font-size: 0.875rem;
  transition: all 0.15s ease;
  color: hsl(var(--muted-foreground));
}

[role='tab']:hover:not([data-state='active']) {
  color: hsl(var(--foreground));
}

[role='tab'][data-state='active'] {
  background-color: hsl(var(--card));
  color: hsl(var(--foreground));
  box-shadow: var(--shadow-xs);
}

/* Toggle Group mais discreto */
.toggle-group-subtle [data-state='on'] {
  background-color: hsl(var(--secondary));
  color: hsl(var(--foreground));
}

/* Tab pills customizadas - para CategoryTabs etc. */
.tab-pill {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.375rem 0.75rem;
  font-size: 0.8125rem;
  font-weight: 500;
  border-radius: calc(var(--radius) - 2px);
  transition: all 0.15s ease;
  color: hsl(var(--muted-foreground));
  background-color: hsl(var(--muted) / 0.5);
}

.tab-pill:hover:not(.tab-pill-active) {
  background-color: hsl(var(--muted) / 0.7);
  color: hsl(var(--foreground));
}

.tab-pill-active {
  background-color: hsl(var(--secondary));
  color: hsl(var(--secondary-foreground));
}

/* ============================================================================
   Buttons - Refinados
   ============================================================================ */

button, [role='button'] {
  font-weight: 500;
  letter-spacing: 0.005em;
}

/* ============================================================================
   Focus States - Suaves
   ============================================================================ */

:focus-visible {
  outline: 2px solid hsl(var(--ring) / 0.4);
  outline-offset: 2px;
}

/* ============================================================================
   Scrollbar - Minimalista
   ============================================================================ */

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.2);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.35);
}

/* ============================================================================
   Selection
   ============================================================================ */

::selection {
  background: hsl(var(--primary) / 0.12);
  color: hsl(var(--foreground));
}

.dark ::selection {
  background: hsl(var(--primary) / 0.2);
}

/* ============================================================================
   Charts - Linhas mais finas, pontos menores
   ============================================================================ */

.recharts-line {
  stroke-width: 1.5 !important;
}

.recharts-dot {
  r: 2.5 !important;
}

.recharts-active-dot {
  r: 4 !important;
}

.recharts-cartesian-axis-tick-value {
  font-size: 0.75rem !important;
  fill: hsl(var(--muted-foreground)) !important;
}

.recharts-legend-item-text {
  font-size: 0.8125rem !important;
  color: hsl(var(--muted-foreground)) !important;
}

/* ============================================================================
   Sliders - Discretos e elegantes
   ============================================================================ */

[role='slider'] {
  --slider-track-bg: hsl(var(--muted));
  --slider-range-bg: hsl(var(--primary) / 0.5);
  --slider-thumb-bg: hsl(var(--card));
  --slider-thumb-border: hsl(var(--border));
}

input[type='range'] {
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
  cursor: pointer;
  height: 1.5rem;
}

input[type='range']::-webkit-slider-runnable-track {
  background: hsl(var(--muted));
  height: 0.375rem;
  border-radius: 9999px;
}

input[type='range']::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 1rem;
  height: 1rem;
  border-radius: 50%;
  background: hsl(var(--card));
  border: 1.5px solid hsl(var(--border));
  margin-top: -0.3125rem;
  box-shadow: 0 1px 3px hsl(var(--shadow-color) / 0.1);
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

input[type='range']:hover::-webkit-slider-thumb {
  border-color: hsl(var(--primary) / 0.5);
}

input[type='range']:focus-visible::-webkit-slider-thumb {
  outline: 2px solid hsl(var(--ring) / 0.4);
  outline-offset: 2px;
}

input[type='range']::-moz-range-track {
  background: hsl(var(--muted));
  height: 0.375rem;
  border-radius: 9999px;
}

input[type='range']::-moz-range-thumb {
  width: 1rem;
  height: 1rem;
  border-radius: 50%;
  background: hsl(var(--card));
  border: 1.5px solid hsl(var(--border));
  box-shadow: 0 1px 3px hsl(var(--shadow-color) / 0.1);
}

input[type='range']::-moz-range-progress {
  background: hsl(var(--primary) / 0.4);
  height: 0.375rem;
  border-radius: 9999px;
}

/* ============================================================================
   Utilities
   ============================================================================ */

/* Text balance for titles */
.text-balance {
  text-wrap: balance;
}

/* Subtle separator */
.separator-subtle {
  background-color: hsl(var(--border) / 0.4);
}

/* Muted link */
.link-muted {
  color: hsl(var(--muted-foreground));
  text-decoration: none;
  transition: color 0.15s ease;
}

.link-muted:hover {
  color: hsl(var(--foreground));
}
